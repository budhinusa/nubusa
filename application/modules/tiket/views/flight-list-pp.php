<script type="text/javascript" src="<?php print $url?>js/jquery-1.11.1.min.js"></script>
<div class="page-title-container">
			<div class="container">
					<div class="page-title pull-left">
							<h2 class="entry-title">Flight Search Results</h2>
					</div>
					<ul class="breadcrumbs pull-right">
							<li><a href="#">HOME</a></li>
							<li class="active">Flight Search Results</li>
					</ul>
			</div>
	</div>
	<section id="content">
			<div class="container">
					<div id="main">
							<div class="row">
									<div class="col-sm-12 col-md-12">
											
									</div>
							</div>
							<div class="row">
									<div id="main_flight" class="c-list listing-style3 car">
											<div class="main_flight col-md-9">
													<div class="booking-information travelo-box">
															<hr />
															<div class="booking-confirmation clearfix">
																	<div class="col-md-1" style="border-right:1px solid #000;"><h1>1</h1></div>
																	<div class="col-md-6">
																		<div class="message">
																				<h4 class="main-message">Pilih penerbangan pergi</h4>
																				<p>Kam, 12 Jan 2017 Palembang → Bali / Denpasar</p>
																		</div>
																	</div>
															</div>
															<hr />
													</div>
													<div id="div_search_menu">
														<div class="sort-by-section clearfix">
																<h4 class="sort-by-title block-sm">Sort Flight by :</h4>
																<ul class="sort-bar clearfix block-sm">
																		<li class="sort-by-name"><a class="sort-by-container" href="#"><span>name</span></a></li>
																		<li class="sort-by-price" id="price_sort" value="1"><a class="sort-by-container" href="#"><span>Harga</span></a></li>
																		<li class="sort-by-rating active"><a class="sort-by-container" href="#"><span>duration</span></a></li>
																</ul>
														</div>
														<article class="box" id="box_header">
																<figure class="col-xs-3 col-sm-2">
																		<span></span>
																</figure>
																<div class="details col-xs-9 col-sm-10">
																		<div class="details-wrapper">
																				<div class="first-row">
																						<div class="time">
																								<div class="total-time col-sm-2">
																										<div class="icon"><i class="soap-icon-plane yellow-color"></i></div>
																										<div>
																												<span class="skin-color">flight no</span>
																										</div>
																								</div>
																								<div class="take-off col-sm-2">
																										<div class="icon"><i class="soap-icon-plane-right yellow-color"></i></div>
																										<div>
																												<span class="skin-color">Take off</span>
																										</div>
																								</div>
																								<div class="landing col-sm-2">
																										<div class="icon"><i class="soap-icon-plane-right yellow-color"></i></div>
																										<div>
																												<span class="skin-color">landing</span>
																										</div>
																								</div>
																								<div class="take-off col-sm-2">
																										<div class="icon"><i class="soap-icon-businessbag yellow-color"></i></div>
																										<div>
																												<span class="skin-color">fasilitas</span>
																										</div>
																								</div>
																								<div class="landing col-sm-2">
																										<div class="icon"><i class="soap-icon-recommend yellow-color"></i></div>
																										<div>
																												<span class="skin-color">harga</span>
																										</div>
																								</div>
																						</div>
																						<figure id="figure_head" style="width:75px">
																								<span></span>
																						</figure>
																				</div>
																		</div>
																</div>
														</article>
													</div>
													
													<!-- List Large -->
													<div id="container_flight_box">
													</div>
											</div>
									</div>
									
									<div id="main_flight_right" class="c-list listing-style3 car" style="opacity:0.5; cursor: pointer;">
											<div class="main_flight_right col-md-3">	
													<div class="booking-information travelo-box">
															<hr />
															<div class="booking-confirmation clearfix">
																	<div class="col-md-1" style="border-right:1px solid #000;"><h1>2</h1></div>
																	<div class="col-md-6">
																		<div class="message">
																				<h4 class="main-message">Pilih penerbangan Pulang</h4>
																				<p>Kam, 12 Jan 2017 Palembang → Bali / Denpasar</p>
																		</div>
																	</div>
															</div>
															<hr />
													</div>
													<div id="div_search_menu_right">
														<div class="sort-by-section clearfix">
																<h4 class="sort-by-title block-sm">Sort Flight by :</h4>
																<ul class="sort-bar clearfix block-sm">
																		<li class="sort-by-name"><a class="sort-by-container" href="#"><span>name</span></a></li>
																		<li class="sort-by-price" id="price_sort_right" value="1"><a class="sort-by-container" href="#"><span>Harga</span></a></li>
																		<li class="sort-by-rating active"><a class="sort-by-container" href="#"><span>duration</span></a></li>
																</ul>
														</div>
														<article class="box" id="box_header">
																<figure class="col-xs-3 col-sm-2">
																		<span></span>
																</figure>
																<div class="details col-xs-9 col-sm-10">
																		<div class="details-wrapper">
																				<div class="first-row">
																						<div class="time">
																								<div class="total-time col-sm-2">
																										<div class="icon"><i class="soap-icon-plane yellow-color"></i></div>
																										<div>
																												<span class="skin-color">flight no</span>
																										</div>
																								</div>
																								<div class="take-off col-sm-2">
																										<div class="icon"><i class="soap-icon-plane-right yellow-color"></i></div>
																										<div>
																												<span class="skin-color">Take off</span>
																										</div>
																								</div>
																								<div class="landing col-sm-2">
																										<div class="icon"><i class="soap-icon-plane-right yellow-color"></i></div>
																										<div>
																												<span class="skin-color">landing</span>
																										</div>
																								</div>
																								<div class="take-off col-sm-2">
																										<div class="icon"><i class="soap-icon-businessbag yellow-color"></i></div>
																										<div>
																												<span class="skin-color">fasilitas</span>
																										</div>
																								</div>
																								<div class="landing col-sm-2">
																										<div class="icon"><i class="soap-icon-recommend yellow-color"></i></div>
																										<div>
																												<span class="skin-color">harga</span>
																										</div>
																								</div>
																						</div>
																						<figure id="figure_head" style="width:75px">
																								<span></span>
																						</figure>
																				</div>
																		</div>
																</div>
														</article>
													</div>
													
													<!-- List Large -->
													<div id="container_flight_box_right">
													</div>
											</div>
									</div>
							</div>
					</div>
			</div>
	</section>
	<script type="text/javascript" src="<?php print $url?>js/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="<?php echo base_url('themes/antavaya2/js/vue.js') ?>"></script>
	<script type="text/javascript" src="<?php echo base_url('themes/antavaya2/js/lodash.js') ?>"></script>
	<script type="text/javascript">
		$(document).ready(function(){
				// klik sorting price
				jQuery('#price_sort').on('click', function(event) 
				{ 
						var price = jQuery('#price_sort').val();
						var $divs = $(".flight_box");
						var $divs_hidden = $(".flight_box_hidden");
						var $divs_fake = $(".flight_box_fake");
						if(price == 1){
							var OrderedDivs = $divs.sort(function (a, b) {
									return $(a).find(".price_val").text() > $(b).find(".price_val").text();
							});
							var OrderedDivsHidden = $divs_hidden.sort(function (a, b) {
									return $(a).find(".price_val").text() > $(b).find(".price_val").text();
							});
							var OrderedDivsFake = $divs_fake.sort(function (a, b) {
									return $(a).find(".price_val").text() > $(b).find(".price_val").text();
							});
							var DivMerge = $.merge(OrderedDivs, OrderedDivsHidden, OrderedDivsFake);
							$("#container_flight_box").html(DivMerge);
							jQuery('#price_sort').val("0");
						} 
						if(price == 0){
							var OrderedDivs = $divs.sort(function (a, b) {
									return $(a).find(".price_val").text() < $(b).find(".price_val").text();
							});
							var OrderedDivsHidden = $divs_hidden.sort(function (a, b) {
									return $(a).find(".price_val").text() < $(b).find(".price_val").text();
							});
							var OrderedDivsFake = $divs_fake.sort(function (a, b) {
									return $(a).find(".price_val").text() < $(b).find(".price_val").text();
							});
							var DivMerge = $.merge(OrderedDivs, OrderedDivsHidden, OrderedDivsFake);
							$("#container_flight_box").html(DivMerge);
							jQuery('#price_sort').val("1");
						}
				});
				
				jQuery('#price_sort_right').on('click', function(event) 
				{ 
						var price = jQuery('#price_sort_right').val();
						var $divs = $(".flight_box_right");
						var $divs_hidden = $(".flight_box_right_hidden");
						if(price == 1){
							var OrderedDivs = $divs.sort(function (a, b) {
									return $(a).find(".price_val").text() > $(b).find(".price_val").text();
							});
							var OrderedDivshidden = $divs_hidden.sort(function (a, b) {
									return $(a).find(".price_val").text() > $(b).find(".price_val").text();
							});
							var DivMerge = $.merge(OrderedDivs, OrderedDivshidden);
							$("#container_flight_box_right").html(DivMerge);
							jQuery('#price_sort_right').val("0");
						} 
						if(price == 0){
							var OrderedDivs = $divs.sort(function (a, b) {
									return $(a).find(".price_val").text() < $(b).find(".price_val").text();
							});
							var OrderedDivshidden = $divs_hidden.sort(function (a, b) {
									return $(a).find(".price_val").text() < $(b).find(".price_val").text();
							});
							var DivMerge = $.merge(OrderedDivs, OrderedDivshidden);
							$("#container_flight_box_right").html(DivMerge);
							jQuery('#price_sort_right').val("1");
						}
				});
				
				//load flight
				flight_get("QG");
				flight_get("LI");
				flight_get_pp("QG");
				flight_get_pp("LI");
			
				$("#div_search_menu_right").hide();
				$("#main_flight_right").click(function()
				{
						$(".main_flight_right").addClass("col-md-9");
						$(".main_flight_right").removeClass("col-md-3");
						$(".main_flight").addClass("col-md-3");
						$(".main_flight").removeClass("col-md-9");
						$(".flight_box_right_hidden").hide();
						$(".flight_box_right").show();
						$("#div_search_menu_right").show();
						$("#main_flight_right").css({
							'opacity': '1',
							'cursor': 'default',
						});
						
						
						$("#div_search_menu").hide();
						$("#main_flight").css({
							'opacity': '0.5',
							'cursor': 'pointer',
						});
						$(".flight_box_hidden").show();
						$(".flight_box").hide();
				});
				
				$("#main_flight").click(function()
				{
						$(".main_flight_right").addClass("col-md-3");
						$(".main_flight_right").removeClass("col-md-9");
						$(".main_flight").addClass("col-md-9");
						$(".main_flight").removeClass("col-md-3");
						$(".flight_box_hidden").show();
						$(".flight_box").show();
						$("#div_search_menu_right").hide();
						$("#main_flight_right").css({
							'opacity': '0.5',
							'cursor': 'pointer',
						});
						
						
						$("#div_search_menu").show();
						$("#main_flight").css({
							'opacity': '1',
							'cursor': 'default',
						});
						$(".flight_box_hidden").hide();
						$(".flight_box").show();
						$(".flight_box_right_hidden").show();
						$(".flight_box_right").hide();
				});
		});
		
		function flight_get(maskapai){
			$.ajax({ url: "<?php echo site_url('tiket/ajax_flight_get') ?>" + "/" + maskapai,
				context: document.body,
				success: function(data) {
					var hasil = $.parseJSON(data);
					$("#container_flight_box").append(hasil.html);
					$(".flight_box_hidden").hide();
					// console.log(hasil.html);
					// console.log(hasil);
				}});
		}
		
		function flight_get_pp(maskapai){
			$.ajax({ url: "<?php echo site_url('tiket/ajax_flight_get_pp') ?>" + "/" + maskapai,
				context: document.body,
				success: function(data) {
					var hasil = $.parseJSON(data);
					$("#container_flight_box_right").append(hasil.html);
					console.log($(".flight_box_right"));
					$(".flight_box_right").hide();
					// console.log(hasil.html);
					// console.log(hasil);
				}});
		}
	</script>
	<!---
	<script type="text/javascript">
		var demo = new Vue({
			el: '#main',
			data: {
					searchString: "",

					// The data model. These items would normally be requested via AJAX,
					// but are hardcoded here for simplicity.

					/* articles: <?php echo $data['json_flight'] ?> */
					articles: [
											{id: 1,  message: 'first', harga:'5000', id_flag_detail:'#flag_detail_11', flag_detail:'flag_detail_11'},
											{id: 2, message: 'second', harga:'4000', id_flag_detail:'#flag_detail_12', flag_detail:'flag_detail_12'},
											{id: 3,  message: 'third', harga:'3000', id_flag_detail:'#flag_detail_13', flag_detail:'flag_detail_13'}
										]
			},
			computed: {
					// A computed property that holds only those articles that match the searchString.
					filteredArticles: function () {
							var articles_array = this.articles,
									searchString = this.searchString;

							if(!searchString){
									return articles_array;
							}
							
							if(searchString == 'max'){
								articles_array = _.orderBy(this.articles, 'harga_tampil','desc');
							}
							if(searchString == 'min'){
								articles_array = _.orderBy(this.articles, 'harga_tampil','asc');
							}
							

							// Return an array with the filtered data.
							return articles_array;;
					}
			}
	});
</script>
--->